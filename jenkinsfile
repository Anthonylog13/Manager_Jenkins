pipeline {
    agent any // Se ejecutará en tu agente Windows

    stages {
        stage('Prueba BAT Súper Básica') {
            steps {
                echo "Paso 1: Intentando 'echo Hello'"
                bat "echo Hello from Jenkins BAT step"
                echo "Paso 1: Comando 'echo' supuestamente completado."

                echo "Paso 2: Intentando 'dir'"
                bat "dir"
                echo "Paso 2: Comando 'dir' supuestamente completado."
            }
        }
    }
    post {
        always {
            echo "Pipeline de diagnóstico ultra-mínimo finalizado."
        }
    }
}